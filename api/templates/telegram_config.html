{% extends "admin_dashboard.html" %}

{% block title %}Telegram API Config{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>‚öôÔ∏è Telegram API Configuration</h2>
    <p class="text-muted">Configure your Telegram API credentials (required for login)</p>

    <div class="card">
        <div class="card-header bg-primary text-white">
            <h5>API Credentials</h5>
        </div>
        <div class="card-body">
            <form method="POST">
                <div class="form-group mb-3">
                    <label for="api_id">API ID</label>
                    <input type="text" class="form-control" id="api_id" name="api_id" value="{{ config.api_id }}"
                        placeholder="12345678" required>
                    <small class="form-text text-muted">Get from <a href="https://my.telegram.org"
                            target="_blank">my.telegram.org</a></small>
                </div>

                <div class="form-group mb-3">
                    <label for="api_hash">API Hash</label>
                    <input type="text" class="form-control" id="api_hash" name="api_hash" value="{{ config.api_hash }}"
                        placeholder="abcdef123456..." required>
                    <small class="form-text text-muted">Long string from my.telegram.org</small>
                </div>

                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Save & Continue to Login
                </button>
            </form>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-header bg-info text-white">
            <h5>üìñ How to Get API Credentials</h5>
        </div>
        <div class="card-body">
            <ol>
                <li>Visit <a href="https://my.telegram.org" target="_blank">https://my.telegram.org</a></li>
                <li>Login with your phone number</li>
                <li>Click "API development tools"</li>
                <li>Create an app (any title/short name)</li>
                <li>Copy API ID and API Hash</li>
                <li>Paste here and save</li>
            </ol>
        </div>
    </div>

    <div class="mt-4">
        <a href="{{ url_for('telegram_login') }}" class="btn btn-success">
            <i class="fas fa-arrow-right"></i> Go to Login
        </a>
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Back to Dashboard
        </a>
    </div>
</div>
{% endblock %}