{% extends "base.html" %}

{% block title %}Videos{% endblock %}

{% block content %}
<h1>üé• Video Management</h1>

<div class="card">
    <h2>Upload Video</h2>
    <form method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="video">Select Video File</label>
            <input type="file" id="video" name="video" accept="video/*" required>
            <small style="color: #64748b;">Max size: 50MB | Supported: MP4, AVI, MOV</small>
        </div>
        <button type="submit" class="btn-success">üì§ Upload Video</button>
    </form>
</div>

<div class="card">
    <h2>Uploaded Files ({{ files|length }})</h2>

    {% if files %}
    <table>
        <thead>
            <tr>
                <th>Filename</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for file in files %}
            <tr>
                <td>{{ file }}</td>
                <td>
                    <a href="/static/uploads/{{ file }}" class="btn btn-secondary" target="_blank">üì• Download</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="text-align: center; padding: 2rem; color: #64748b;">
        No files uploaded yet. Upload your first video above!
    </p>
    {% endif %}
</div>

<div class="alert alert-info">
    ‚ö†Ô∏è <strong>Note:</strong> Files are stored in /tmp on serverless - they're temporary and will be deleted when the
    function restarts. Consider using cloud storage (S3, Cloudinary) for permanent storage.
</div>
{% endblock %}